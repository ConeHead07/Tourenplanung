if(!Fb)var Fb={};Fb.log="";Fb.logAjaxError=function(b,d,c,a){"object"==typeof d&&(b+="\n\nxhr.repsonseText:"+d.responseText+"\n\nxhr.statusText:"+d.statusText+"\n\nxhr.status:"+d.status);c&&(b+="\n\nstatus: "+c);a&&(b+="\n\nerror:"+a);Fb.log+="\n++++++++++\n"+b+"\n";a&&alert(b)};Fb.showLog=function(){alert(Fb.log)};Fb.convertDate=function(b,d,c){"string"==typeof b&&(b=$.datepicker.parseDate(c,b));return $.datepicker.formatDate(d,b)};if("undefined"==typeof droplinemenu_imgPath)var droplinemenu_imgPath="css/";
var droplinemenu={arrowimage:{classname:"downarrowclass",src:droplinemenu_imgPath+"down.gif",leftpadding:5},animateduration:{over:200,out:100},buildmenu:function(b){jQuery(document).ready(function(d){var c=d("#"+b);if(!c.length||!c.is("rendered-by-buildmenu")){var a=d("#"+b+">ul");a.find("ul").parent().each(function(){var b=d(this);d(this).find("ul:eq(0)");this._dimensions={h:b.find("a:eq(0)").outerHeight()};this.istopheader=1==b.parents("ul").length?!0:!1;var f=b.children("a").eq(0),f=f.children().eq(0).is("span")?
f.children().eq(0):f;f.find("img."+droplinemenu.arrowimage.classname).length||(f.append('<img src="'+droplinemenu.arrowimage.src+'" class="'+droplinemenu.arrowimage.classname+'" style="border:0; padding-left: '+droplinemenu.arrowimage.leftpadding+'px" />'),b.hover(function(){var b=d(this).children("ul:eq(0)");1>=b.queue().length&&document.all&&!window.XMLHttpRequest&&a.find("ul").css({overflow:this.istopheader?"hidden":"visible"});b.dequeue().stop(!0,!0).slideDown("normal")},function(){d(this).children("ul:eq(0)").dequeue().stop(!0,
!0).slideUp("normal")}))});a.find("ul").css({display:"none",visibility:"visible",width:a.width()})}})}};jqChooser={};
(function(){var b,d={},c=!0,a=!1,e=null;jqChooser={split:function(a){return a.split(/,\s*/)},extractLast:function(a){return jqChooser.split(a).pop()},destroy:function(a){if($(a).data("jqChooserInput")){var e=a;a=$(a).data("jqChooserInput")}else e=$(a).data("originInput");var g=$(a).data("div");a=$(a).data("originInputDisplay");g.remove();$(e).css("display",a);jqChooser.hideUserBox();jqChooser.unbindUserBox();b=null;c=!1},create:function(a){var e=$(a).parent().find("div.chzn-container.chzn-container-multi");e.length&&
e.remove();var e=$("<div/>").attr("class","chzn-container chzn-container-multi"),g=$("<ul/>").attr("class","chzn-choices"),c=$("<li/>").attr("class","search-field"),h=$("<input/>").attr({type:"text",autocomplete:"off"}).css("width","25px;").data({div:e,ul:g,originInput:a,originInputDisplay:$(a).css("display")});$(a).data("jqChooserInput",h);e.append(g.append(c.append(h)));$(a).after(e);$(a).css("display","none");jqChooser.initChItems(h);jqChooser.addButton(h);return b=h},initChItems:function(a){var b=
$(a).data("originInput");$(a).data("ul").remove("li.chzn-choice");jQuery.each($(b).val().split(","),function(b,e){e&&jqChooser.addItem(a,e)})},remValue:function(a,b){var e=$(a).data("originInput"),c=$(a).data("ul");b.remove();for(var c=$("li.search-choice:not(.search-button)",c),h="",d=0;d<c.length;++d)"string"==typeof c.eq(d).data("choice")&&c.eq(d).data("choice").length&&(h+=(h?",":"")+c.eq(d).data("choice"));$(e).val(h);jqChooser.refreshUserBox(a)},addItem:function(a,b,e){var c=$(a).data("ul");
if($(c).length)return b=$("<li/>").attr("class","search-choice").data("choice",b).append($("<span/>").attr({"rel-value":b,"rel-label":e}).text(e||b)).append($("<a/>").attr({"class":"search-choice-close",href:"javascript:void(0)"}).bind("click",function(){jqChooser.remValue(a,$(this).parent("li:first"))})),$("li.search-field",c).length?$("li.search-field:first",c).before(b):c.append(b),b},addButton:function(a){a=$(a).data("ul");if($(a).length){var b=$("<li/>").attr("class","search-choice search-button").css({padding:"1px 0"}).data("choice",
"").append($("<a/>").attr({"class":"search-choice-open ui-icon ui-icon-plus",href:"javascript:void(0)"}).bind("click",function(){jqChooser.showUserBox()}));$("li.search-field:first",a).length?$("li.search-field:first",a).after(b):a.append(b);return b}},addValue:function(a,b,e,c){var h=$(a).data("originInput");"object"==typeof b?(addValue=b.value,e=b.label||addValue):(addValue=b,e||(e=b));b=jqChooser.addItem(a,addValue,e);"undefined"==typeof d[addValue]&&(d[addValue]=e);jqChooser.refreshUserBox(a);
c||$(h).val(($(h).val()?$(h).val()+",":"")+addValue);$(a).val("");$(a).focus();return b},getData:function(a){a=$(a).data("ul");var b=[];$("li.search-choice:not(.search-button)>span",a).each(function(){b.push({value:$(this).attr("rel-value"),label:$(this).attr("rel-label")})});return b},getCacheData:function(){return d},clearData:function(a){$($(a).data("ul")).find("li.search-choice:not(.search-button):has(span)").remove();$($(a).data("originInput")).val("");$(a).data("originInput");$(a).data("ul")},
setData:function(a,b){jqChooser.clearData(a);if(b)for(var e=0;e<b.length;++e)jqChooser.addValue(a,b[e])},setFocus:function(a){(c=a)||setTimeout("jqChooser.checkHide()",1E3)},checkHide:function(){c||jqChooser.hideUserBox()},refreshUserBox:function(a){var b=$("div#jqChooserUserBox");if(!b.length)return!1;a=$(a).is(":visible")?$(a):$(a).closest("td");a.css({height:"auto",display:"inherit"});var e=$("ul .ui-icon-plus",a);e.length&&(a=e);if(a.length){a.css({border:"solid 1px #f00"});var e=a.offset().top+
a.outerHeight(),c=a.offset().left;a.outerWidth();b.css({position:"absolute",top:e,left:c});var d=a=b.css("zIndex");b.parents().each(function(){d=Math.max(d,$(this).css("zIndex"))});a!=d&&b.css("zIndex",1+d);return!0}},bindUserBox:function(a){$cell=$(a).closest(":visible");$("div#jqChooserUserBox").bind("mouseleave",function(){jqChooser.setFocus(!1)});$cell.bind("mouseleave",function(){jqChooser.setFocus(!1)});$(a).bind("blur",function(){jqChooser.setFocus(!1)});$("div#jqChooserUserBox").bind("mouseenter",
function(){jqChooser.setFocus(!0)});$(a).bind("focus",function(){jqChooser.setFocus(!0)})},unbindUserBox:function(a){$cell=$(a).closest("td");$("div#jqChooserUserBox").unbind("mouseleave");$cell.unbind("mouseleave");$(a).unbind("blur");$("div#jqChooserUserBox").unbind("mouseenter");$cell.unbind("mouseenter",function(){jqChooser.setFocus(!0)});$(a).unbind("focus")},showUserBox:function(){var e=$("div#jqChooserUserBox");c=!0;e.length&&(a||jqChooser.refreshUserBox(b),e.show())},hideUserBox:function(){$("div#jqChooserUserBox").hide();
$cell=$(b).closest("td")},loadUserBoxSource:function(f){a=!0;$("div#jqChooserUserBox").load(f,function(){e&&callback(e);jqChooser.refreshUserBox(b)})},registerUserBox:function(f,c,g){f=jqChooser.create(f);var n=jQuery(f);d={};$("div#jqChooserUserBox").length||$("body").append($("<div id='jqChooserUserBox'/>").css({display:"none",zIndex:999}));$("div#jqChooserUserBox").load(c,function(){g&&g(n);jqChooser.refreshUserBox(n)});b=n;e=g;a=!1;jqChooser.bindUserBox(f)},unregisterUserBox:function(a){$("div#jqChooserUserBox").remove();
jqChooser.destroy(a)},getSearchInputByOriginInput:function(a){return $(a).data("jqChooserInput")},register:function(a,e){if(!jQuery(a).attr("jqAutocompleteInit")){var c=jqChooser.create(a);jQuery(c).bind("keydown",function(a){a.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).data("autocomplete").menu.active&&a.preventDefault()}).autocomplete({source:function(a,b){jQuery.getJSON(e,{term:jqChooser.extractLast(a.term)},b)},minLength:0,search:function(){var a=jqChooser.extractLast(this.value),b=$(this).autocomplete("option",
"minLength");return a.length>=b},focus:function(){return!1},select:function(a,b){var e=jqChooser.split(this.value);e.pop();e.push(b.item.value);$("<button></button>").text(b.item.label||b.item.value).data("dstInput",this).button({icons:{secondary:"ui-icon-locked"}});jqChooser.addValue(this,b.item);return!1}});jQuery(a).attr("jqAutocompleteInit","1");b=$input;return jQuery(c)}}}})();(function(b){var d={onCreate:null,onRemove:null,onselect:null,originInputDisplay:"",searchInput:null,dataPairs:null,dataPairsUserStorage:null,cacheValues:null,hasFocus:null,timer:null,inputObj:null,multiple:!0,source:null,sourceLoaded:null,sourceLoadedCallback:null,showSearchInput:!1,initialized:!1,showOnload:!1,useUserBox:!1,userBox:null,userBoxId:"fbChooserUserBox"},c={addCache:function(a,e){var f=b(this).data("fbChooser");null==f.cacheValues&&(f.cacheValues=[]);"undefined"==typeof f.cacheValues[a]&&
(f.cacheValues[a]=e)},_init:function(){var a=b(this).data("fbChooser");a.initialized||(a&&"function"==typeof a.onCreate&&a.onCreate.apply(this),a.useUserBox?c.registerUserBox.apply(this):c.register.apply(this,[a.source,a.sourceLoadedCallback]),a.onCreate&&a.onCreate.apply(this),a.initialized=!0)},split:function(a){return a.split(/,\s*/)},extractLast:function(a){return c.split(a).pop()},destroy:function(){var a=b(this).data("fbChooser");a.div.remove();b(this).css("display",a.originInputDisplay);a.useUserBox&&
c.unregisterUserBox.apply(this);a.searchInput=null;a.hasFocus=!1;a.timer=null;b(this).removeData("fbChooser");a.onRemove&&a.onRemove.apply(this)},create:function(){var a=b(this).data("fbChooser");a.cell=b(this).parent();a.div=b("<div/>").attr("class","chzn-container chzn-container-multi");a.ul=b("<ul/>").attr("class","chzn-choices");a.li=b("<li/>").attr("class","search-field");a.searchInput=b("<input/>").attr({type:"text",autocomplete:"off"}).css("width","25px;");a.originInputDisplay=b(this).css("display");
a.div.append(a.ul.append(a.li.append(a.searchInput)));b(this).after(a.div);b(this).css("display","none");!1==a.showSearchInput&&a.searchInput.hide();c.initChItems.apply(this);a.useUserBox&&c.addButton.apply(this);return a.searchInput},initChItems:function(){var a=b(this).data("fbChooser"),e=this;a.ul.remove("li.chzn-choice");a.dataPairsUserStorage||(a.dataPairsUserStorage=b(this).attr("data-pairs")?"object"==typeof b(this).attr("data-pairs")?"attr-json":"attr-string":"data-json");"object"==typeof a.dataPairsUserStorage&&
(a.dataPairs=a.dataPairsUserStorage);if("function"==typeof a.dataPairsUserStorage)a.dataPairs=a.dataPairsUserStorage.apply(this,[]);else if("data-json"==a.dataPairsUserStorage)a.dataPairs=b(this).data("data-pairs");else if(b(this).attr("data-pairs"))if("attr-json"==a.dataPairsUserStorage)a.dataPairs=b(this).attr("data-pairs");else try{a.dataPairs=jQuery.parseJSON(b(this).attr("data-pairs"))}catch(f){alert(f)}b(this).val()&&b.each(b(this).val().split(","),function(b,f){if(f){var d=a.dataPairs&&f in
a.dataPairs?a.dataPairs[f]:null;!d&&(a.cacheValues&&f in a.cacheValues)&&(d=a.cacheValues[f]);c.addItem.apply(e,[f,d])}})},remValue:function(a){var e=b(this).data("fbChooser");a.remove();a=b("li.search-choice",e.ul);for(var f="",j={},g=0;g<a.length;++g)if("string"==typeof a.eq(g).data("choice")&&a.eq(g).data("choice").length){var d=a.eq(g).data("choice"),f=f+((f?",":"")+d);j[d]=d in e.dataPairs?e.dataPairs[d]:d}e.dataPairs=b.extend({},j);c.refreshDataPairsUserStorage.apply(this);b(this).val(f);c.refreshUserBox.apply(this)},
addItem:function(a,e){var f=b(this).data("fbChooser"),d=this;if(!b(f.ul).length)return null;var g=b("<li/>").attr("class","search-choice").data("choice",a).append(b("<span/>").attr({"rel-value":a,"rel-label":e}).text(e||a)).append(b("<a/>").attr({"class":"search-choice-close",href:"javascript:void(0)"}).bind("click",function(){c.remValue.apply(d,[b(this).parent("li:first")])}));b("li.search-field",f.ul).length?b("li.search-field:first",f.ul).before(g):f.ul.append(g);!1==f.showSearchInput&&f.searchInput.hide();
c.refreshUserBox.apply(this);return g},addValue:function(a,e,f){if("undefined"==typeof f||null==f)f=0;if("undefined"==typeof e||null==e)e="";var d=b(this).data("fbChooser"),g="";"object"==typeof a?(g=a.value,e=a.label||g):(g=a,e||(e=a));d&&!d.multiple&&c.clearData.apply(this);a=c.addItem.apply(this,[g,e]);c.addCache.apply(this,[g,e]);c.refreshUserBox.apply(this);f||(f=b(this).val()+(b(this).val()?",":"")+g,b(this).val(f),d.dataPairs[g]=e,c.refreshDataPairsUserStorage.apply(this));b(d.searchInput).val("");
b(d.searchInput).focus();return a},addButton:function(){var a=b(this).data("fbChooser"),e=this;if(!b(a.ul).length)return null;if(a.ul&&a.ul.length){var f=b("<li/>").attr("class","search-choice search-button").css({padding:"1px 0"}).data("choice","").append(b("<a/>").attr({"class":"search-choice-open ui-icon ui-icon-plus",href:"javascript:void(0)"}).bind("click",function(){c.showUserBox.apply(e)}));b("li.search-field:first",a.ul).length?b("li.search-field:first",a.ul).after(f):a.ul.append(f);return f}},
getData:function(){var a=b(this).data("fbChooser"),e=[];b("li.search-choice>span",a.ul).each(function(){e.push({value:b(this).attr("rel-value"),label:b(this).attr("rel-label")})});return e},getCacheData:function(){return b(this).data("fbChooser").cacheValues},clearData:function(){var a=b(this).data("fbChooser");b(a.ul).find("li.search-choice:has(span)").remove();b(this).val("");a.dataPairs={};c.refreshDataPairsUserStorage.apply(this)},setData:function(a){b(this).data("fbChooser");c.clearData.apply(this);
if(a)for(var e=0;e<a.length;++e)c.addValue.apply(this,[a[e]])},setFocus:function(a){var e=this;(b(this).data("fbChooser").hasFocus=a)||setTimeout(function(){c.checkHide.apply(e)},500)},checkHide:function(){b(this).data("fbChooser").hasFocus||c.hideUserBox.apply(this)},refreshDataPairsUserStorage:function(){var a=b(this).data("fbChooser");"object"==typeof a.dataPairsUserStorage?a.dataPairsUserStorage=a.dataPairs:"function"==typeof a.dataPairsUserStorage?a.dataPairsUserStorage.apply(this,[a.dataPairs]):
"data-json"==a.dataPairsUserStorage?b(this).data("data-pairs",a.dataPairs):"attr-json"==a.dataPairsUserStorage?b(this).attr("data-pairs",a.dataPairs):"attr-string"==a.dataPairsUserStorage&&b(this).attr("data-pairs",JSON.stringify(a.dataPairs))},refreshUserBox:function(){var a=b(this).data("fbChooser");if(!a.userBox||!a.userBox.length)return!1;var e=b(a.searchInput).is(":visible")?b(a.searchInput):b(a.searchInput).closest("td");if(!e.length)return!1;var f=e.offset().top+e.outerHeight(),c=e.offset().left;
e.outerWidth();a.userBox.css({position:"absolute",top:f,left:c});var g=e=a.userBox.css("zIndex");a.userBox.parents().each(function(){g=Math.max(g,b(this).css("zIndex"))});e!=g&&a.userBox.css("zIndex",1+g);return!0},bindUserBox:function(){var a=b(this).data("fbChooser"),e=this;a.userBox.bind("mouseleave",function(){c.setFocus.apply(e,[!1])}).bind("mouseenter",function(){c.setFocus.apply(e,[!0])});a.cell.bind("mouseleave",function(){c.setFocus.apply(e,[!1])});a.searchInput.bind("blur",function(){c.setFocus.apply(e,
[!1])})},unbindUserBox:function(){var a=b(this).data("fbChooser");a.userBox.unbind("mouseleave").unbind("mouseenter");a.cell.unbind("mouseleave").unbind("mouseenter");a.searchInput.unbind("blur").unbind("focus")},showUserBox:function(){var a=b(this).data("fbChooser");a.cell.is(":visible")&&(a.userBox.data("target")!=this?c.loadUserBoxSource.apply(this,[c.showUserBox]):(a.hasFocus=!0,a.userBox.length&&(c.refreshUserBox.apply(this),a.userBox.show(),a.userBox.data("lastTarget",this))))},hideUserBox:function(){b(this).data("fbChooser").userBox.hide()},
loadUserBoxSource:function(a){var e=b(this).data("fbChooser"),f=this;e.sourceLoaded=!1;e.userBox.find("div#"+e.userBoxId+"Inner").load(e.source,function(){e.sourceLoadedCallback&&e.sourceLoadedCallback.apply(f,[e.userBox]);e.sourceLoaded=!0;e.userBox.data("target",f);"function"==typeof a&&a.apply(f);c.refreshUserBox.apply(f)})},registerUserBox:function(){var a=b(this).data("fbChooser");c.create.apply(this);a.cacheValues={};a.userBox=b("div#"+a.userBoxId);a.userBox.length||b("body").append(a.userBox=
b("<div id='"+a.userBoxId+"'/>").css({zIndex:999}).append(b("<span/>").fbIcon({icon:"close",click:function(){b(this).closest("div#"+a.userBoxId).hide()}}).css({position:"absolute",right:2,top:2,zIndex:1001})).append(b("<div id='"+a.userBoxId+"Inner'/>")));a.showOnload||a.userBox.hide();c.bindUserBox.apply(this)},unregisterUserBox:function(){var a=b(this).data("fbChooser");c.hideUserBox.apply(this);c.unbindUserBox.apply(this);a.userBox.remove()},getSearchInputByOriginInput:function(){return b(this).data("fbChooser").searchInput},
register:function(){var a=b(this).data("fbChooser"),e=this;if(b(this).attr("jqAutocompleteInit"))return null;c.create.apply(this);a.searchInput.bind("keydown",function(a){a.keyCode===b.ui.keyCode.TAB&&b(this).data("autocomplete").menu.active&&a.preventDefault()}).autocomplete({source:function(e,d){b.getJSON(a.source,{term:c.extractLast(e.term)},d)},minLength:0,search:function(){var a=c.extractLast(this.value),e=b(this).autocomplete("option","minLength");return a.length>=e},focus:function(){return!1},
select:function(a,d){b(e).data("fbChooser");var g=c.split(this.value);g.pop();g.push(d.item.value);b("<button></button>").text(d.item.label||d.item.value).data("dstInput",this).button({icons:{secondary:"ui-icon-locked"}});c.addValue.apply(e,[d.item]);return!1}});b(this).attr("jqAutocompleteInit","1");return a.searchInput}};b.fn.fbChooser=function(a){var e=arguments,f=arguments.length;if("string"==typeof a&&this.length)switch(a){case "options":if(1==f)return b(this[0]).data("fbChooser");break;case "option":if(2==
f){var j=b(this[0]).data("fbChooser");return"undefined"!=typeof j[e[1]]?j[e[1]]:null}break;default:if("function"==typeof c[a]&&"get"==a.substr(0,3))return!b(this[0]).data("fbChooser")?null:c[a].apply(this[0],1<f?b.makeArray(e).slice(1):null)}return this.each(function(){var g=!1;b(this).data("fbChooser")||("object"==typeof a?b(this).data("fbChooser",b.extend({},d,a)):b(this).data("fbChooser",b.extend({},d)),g=!0);var j=b(this).data("fbChooser");if("string"==typeof a)switch(a){case "options":1<f&&(j=
b.extend({},j,e[1]),b(this).data("fbChooser",j));break;case "option":2<f&&(j[e[1]]=e[2],b(this).data("fbChooser",j));break;default:"function"==typeof c[a]&&c[a].apply(this,1<f?b.makeArray(e).slice(1):null)}g&&c._init.apply(this)})}})(jQuery);(function(b){var d={icon:"",display:"inline-block",css:null,clss:"ui-state-default ui-corner-all",hoverClass:"ui-state-hover",pos:"prepend",click:null,bind:null};b.fn.fbIcon=function(c){var a={};if("object"==typeof c)a=b.extend({},d,c),a.click&&(a.bind=b.extend({},a.bind,{click:a.click}));else{var e=arguments.length,a=b.extend({},d);"string"==typeof c&&(a.icon=c);2==e&&"object"==typeof arguments[1]&&(a=b.extend({},a,arguments[1]));3==e&&"object"==typeof arguments[2]&&(a=b.extend({},a,arguments[2]));
1<e&&"function"==typeof arguments[1]&&(a.bind=b.extend({},a.bind,{click:arguments[1]}))}a.display&&(a.css=b.extend({},a.css,{display:a.display}));return this.each(function(){var e=b(this),c=b("<span/>").css(a.css).addClass(a.clss).append(b("<span/>").addClass("ui-icon ui-icon-"+a.icon)).hover(function(){b(this).addClass(a.hoverClass)},function(){b(this).removeClass(a.hoverClass)}),g;for(g in a.bind)e.bind(g,a.bind[g]);"prepend"==a.pos?e.prepend(c):e.append(c)})}})(jQuery);jQuery.cookie=function(b,d,c){if("undefined"!=typeof d||b&&"string"!=typeof b)if("string"==typeof b){c=c||{};null===d&&(d="",c.expires=-1);var a="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString))"number"==typeof c.expires?(a=new Date,a.setTime(a.getTime()+864E5*c.expires)):a=c.expires,a="; expires="+a.toUTCString();var e=c.path?"; path="+c.path:"",f=c.domain?"; domain="+c.domain:"";c=c.secure?"; secure":"";document.cookie=b+"="+encodeURIComponent(d)+a+e+f+c}else for(a in b)jQuery.cookie(a,
b[a],d||c);else{d={};if(document.cookie){c=document.cookie.split(";");for(a=0;a<c.length;a++)if(e=jQuery.trim(c[a]),b){if(e.substr(0,b.length+1)==b+"="){d=decodeURIComponent(e.substr(b.length+1));break}}else f=e.indexOf("="),d[e.substr(0,f)]=decodeURIComponent(e.substr(f+1))}return d}};(function(b){b.widget("ui.combobox",{_create:function(){var d=this,c=this.element.hide(),a=c.children(":selected"),a=a.val()?a.text():"",e=this.input=b("<input>").insertAfter(c).val(a).autocomplete({delay:0,minLength:0,source:function(a,e){var g=RegExp(b.ui.autocomplete.escapeRegex(a.term),"i");e(c.children("option").map(function(){var e=b(this).text();if(this.value&&(!a.term||g.test(e)))return{label:e.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.ui.autocomplete.escapeRegex(a.term)+")(?![^<>]*>)(?![^&;]+;)",
"gi"),"<strong>$1</strong>"),value:e,option:this}}))},select:function(a,b){b.item.option.selected=!0;d._trigger("selected",a,{item:b.item.option})},change:function(a,d){if(!d.item){var g=RegExp("^"+b.ui.autocomplete.escapeRegex(b(this).val())+"$","i"),n=!1;c.children("option").each(function(){if(b(this).text().match(g))return this.selected=n=!0,!1});if(!n)return b(this).val(""),c.val(""),e.data("autocomplete").term="",!1}}}).addClass("ui-widget ui-widget-content ui-corner-left");e.data("autocomplete")._renderItem=
function(a,e){return b("<li></li>").data("item.autocomplete",e).append("<a>"+e.label+"</a>").appendTo(a)};this.button=b("<button type='button'>&nbsp;</button>").attr("tabIndex",-1).attr("title","Show All Items").insertAfter(e).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){e.autocomplete("widget").is(":visible")?e.autocomplete("close"):(b(this).blur(),e.autocomplete("search",""),e.focus())})},destroy:function(){this.input.remove();
this.button.remove();this.element.show();b.Widget.prototype.destroy.call(this)}})})(jQuery);function objToString(b,d){d||(d="");if("object"!==typeof b)return b;var c="";for(i in b)c+=d+i+"("+typeof b[i]+") : ",typeof b[i].toString().match(/string|number|boolean/)?c+=b[i]+"\n":"object"==typeof b[i]&&(c+=objToString(b[i],d+"-"));return c}function jsonToQuery(b,d){d||(d="");var c="",a="",e;for(e in b)c=d?d+"["+e+"]":e,typeof b[e].toString().match(/string|number|boolean/)?a+="&"+c+"="+b[e]:"object"==typeof b[e]&&(a+=jsonToQuery(b[e],c));return a}"undefined"==typeof MyForms&&(MyForms={});
MyForms.setSelectOptions=function(b,d,c){c=$.extend({},{dataMode:"val"},c);var a,e;if(b.length){for(var f in d)a="key"==c.dataMode||"both"==c.dataMode?f:d[f],e="val"==c.dataMode||"both"==c.dataMode?d[f]:f,b.append($("<option/>").val(a).text(e));b.attr("default")&&b.val(b.attr("default"))}else alert("Ung\ufffdltige selectBox.length")};
(function(b){var d={searchTbl:null,searchOpers:{bw:"bw"},defaultOpers:{},showOpers:!1,searchFields:[],jqGridID:null,jqGridSearchUrl:"",liveSearchUrl:"",categoryTreeFields:null,searchFieldsFormat:{},initialized:!1,onerror:null,onsend:null,onselect:null,opers_i18n:{gt:"groesser",ge:"groesser gleich",lt:"kleiner",le:"kleiner gleich",eq:"gleich",ne:"ungleich",bw:"beginnt mit",bn:"beginnt nicht mit",ew:"endet mit",en:"endet nicht mit",cn:"enth\ufffdlt",nc:"enth\ufffdlt nicht",nu:"is null",nn:"is not null",
"in":"ist in",ni:"ist nicht in"}},c=["searchFields","jqGridID"],a={_init:function(){var f=b(this).data("fbMultiSearchBox"),c=this,g=b(this);if(!f||!f.initialized)f||(b(this).data("fbMultiSearchBox",b.extend({},d)),f=b(this).data("fbMultiSearchBox")),b("td.columns select",g).each(function(){e(b(this),f.searchFields,{dataMode:"both"})}),b("td.operators select",g).each(function(){e(b(this),f.searchOpers,{dataMode:"both",i18n:d.opers_i18n})}),f.showOpers||b("td.operators",g).css("display","none"),a._initCombobox.apply(c,
[b("td.columns select",g)]),a._bindSearchOnEnter.apply(c,[b("td.data input[type=text][name=data]",g)]),b("td.data input[type=text]").bind("enter",function(){b(this).closest("form").find("button[name=sendQuery]").trigger("click")}),b("button.delete-rule.ui-del",g).button({icons:{primary:"ui-icon-minus"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right").css({width:"18px",marginLeft:0}).click(function(){b(this).closest("tr").remove()}),b("button[name=resetQuery]",g).button({icons:{secondary:"ui-icon-cancel"}}).unbind("click").bind("click",
function(){var a=b(this).closest("div.sForm");a.find("input[type=text],input[name=date],input[name=dateTo]").val("");a.find('select option[value=""]').attr("selected","selected");a.find("li.search-choice").remove()}),b("button[name=sendQuery]",g).button({icons:{secondary:"ui-icon-search"}}).unbind("click").bind("click",function(){var a=b(this).closest("div.sForm"),e={_search:!0},f='{"groupOp":"'+b("select[name=groupOp]",a).val()+'","rules":[',g=0,d=a.data("fbMultiSearchBox");d.jqGridSearchUrl||(d.jqGridSearchUrl=
b(d.jqGridID).jqGrid("getGridParam","url"));var r=d.jqGridSearchUrl;if("sFormVorgaenge"==b(c).attr("id")){var p=b("#FilterDispoStatus input:radio[name=DispoStatus]:checked");p.length&&(e.dispoStatus=p.val());p=b("#FilterDispoStatusWV input:radio[name=DispoStatusWV]:checked");p.length&&(e.dispoStatusWV=p.val())}b("tr",a).each(function(){if("string"===typeof b(this).attr("class")&&b(this).attr("class").match(/simpleInput/))b("input, select",this).each(function(){e[b(this).attr("name")]=b(this).val()});
else{var a=b("td.data input:first,td.data select:first,td.data textarea:first",this);if(a.length&&a.val()){var c=null,d=null,j=null,j=a.val(),c="data"!=a.attr("name")?b.trim(a.attr("name")):b.trim(b("td.columns select[name=field]:first",this).val()),a=b("td.operators:first",this),a=b("select:first",a),d=b.trim(a.length)?b.trim(a.val()):null;f+=g++?",":"";f+='{"field":"'+c+'","op":"'+d+'","data":"'+j+'"}'}}});f+="]}";e.filters=f;r+=(-1==r.indexOf("?")?"?":"")+encodeURI(jsonToQuery(e));if(!d.onsend||
d.onsend.apply(r))try{b(d.jqGridID).jqGrid("getGridParam","postData").filters=f,b(d.jqGridID).jqGrid("setGridParam",{search:!0,url:r}),b(d.jqGridID).trigger("reloadGrid")}catch(s){alert(s)}}),b("input.switch-op",g).unbind("click").bind("click",function(){b("tr td:eq(2):not(td.data), tr td.operators",g).toggle()}),b("input.add-rule",g).unbind("click").click(function(){a.addRule.apply(g[0])}),f.initialized=!1},_initCombobox:function(e){var c=b(this).data("fbMultiSearchBox"),d=this;b(e).each(function(){var e=
b(this).closest("tr").find("td.data"),f=b("input[name=data]",e);f.data("lastSearchField","");b(this).combobox().unbind("comboboxselected").bind("comboboxselected",function(q,l){f=b("*[name=data]",e);var k=l?l.item.value:b(this).val(),r=f.data("lastSearchField"),p=r in c.searchFieldsFormat;r in c.categoryTreeFields&&(a._rmTreeSelection.apply(d,[f]),b(this).closest("tr").find("td.operators select[name=op]").val("bw"));p&&(a._rmSearchFormat.apply(d,[f]),b(this).closest("tr").find("td.operators select[name=op]").val("bw"),
f=b("*[name=data]",e));k in c.categoryTreeFields&&(a._initTreeSelection.apply(d,[f,k]),b(this).closest("tr").find("td.operators select[name=op]").val("eq"));k in c.searchFieldsFormat&&(a._initSearchFormat.apply(d,[f,k]),b(this).closest("tr").find("td.operators select[name=op]").val("eq"),f=b("*[name=data]",e));c.defaultOpers&&c.defaultOpers[k]&&b(this).closest("tr").find("td.operators select[name=op]").val("eq");c&&"function"==typeof c.onselect&&c.onselect.apply(d,[this,f,l.item.value]);f.data("lastSearchField",
k);return!0});b(this).attr("readonly")&&b(this).parent().find("input").attr("readonly","readonly").end().find("input.ui-autocomplete-input").attr("readonly","readonly").end().find("button").button("option","disabled",!0);b(this).trigger("comboboxselected")})},_rmTreeSelection:function(a){b(a).fbChooser("destroy")},_bindSearchOnEnter:function(a){var e=b(this);a.bind("keypress",function(a){13==a.keyCode&&e.find("button[name=sendQuery]").trigger("click")})},addRule:function(){var f=b(this).data("fbMultiSearchBox"),
c=b("<td class='columns'><select name='field'></select></td>"),g=b("<td class='operators'><select name='op'></select></td>"),n=b("<td><button class='delete-rule ui-del' type='button' title='Delete rule'>-</button></td>"),h=b("<td class='data'><input  name='data' type='text' class='sQuery' /></td>");f.showOpers||g.css("display","none");e(b("select",c),f.searchFields,{dataMode:"val"});f.showOpers&&e(b("select",g),f.searchOpers,{dataMode:"both",i18n:d.opers_i18n});a._initCombobox.apply(this,[b("select",
c)]);b("tr:last",f.searchtbl).before(b("<tr/>").append(c).append(g).append(h).append(n));b("button",n).button({icons:{primary:"ui-icon-minus"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right").css({width:"18px",marginLeft:0}).click(function(){b(this).closest("tr").remove()});a._bindSearchOnEnter.apply(this,[h.find("input[type=text]")])},_initSearchFormat:function(a,e){a.val("");var c=b(this).data("fbMultiSearchBox").searchFieldsFormat[e],d=b("<select/>").attr({name:a.attr("name"),
"class":a.attr("class"),rel:"specialSearchFormat"}),h;for(h in c.options)d.append(new Option(c.options[h],c.options[h]));a.after(d);a.remove()},_rmSearchFormat:function(a){var e=b("<input/>").attr({type:a.attr("text"),name:a.attr("name"),"class":a.attr("class"),rel:"specialSearchFormat"});a.before(e);a.remove()},_initTreeSelection:function(a,e){a.val("");var c=b(this).data("fbMultiSearchBox").categoryTreeFields[e];b(a).fbChooser({useUserBox:!0,showSearchInput:!1,showOnload:!1,source:c,sourceLoadedCallback:function(){var a=
this;b("#treeSelectDialog").bind("selectTreeNode",function(e,c){b(a).fbChooser("setData",[{value:c.id,label:c.name}])})}})}},e=function(a,e,c){c=b.extend({},{dataMode:"val",i18n:null},c);var d="",h="",q="";if(a.length){var l=a.attr("readonly"),k=a.attr("default");for(d in e)if(h="key"==c.dataMode||"both"==c.dataMode?d:e[d],q="val"==c.dataMode||"both"==c.dataMode?e[d]:d,!l||!(k&&h!=k))a.append(b("<option/>").val(h).text(q).attr("title",c.i18n&&h in c.i18n?c.i18n[h]:""));e="option[value='"+a.attr("default")+
"']";a.attr("default")&&b(e,a).attr("selected",!0)}else alert("Ung\ufffdltige selectBox.length")};b.fn.combobox||(jQuery("head").append('<link href="'+APP_BASE_URL+'/jquery/combobox/jquery.ui.combobox.css" type="text/css" rel="Stylesheet" />'),jQuery.getScript(APP_BASE_URL+"/jquery/combobox/jquery.ui.combobox.js",function(){}));b.fn.fbMultiSearchBox=function(e){if("string"==typeof e){var j=b(this[0]).data("fbMultiSearchBox");return j&&e in j?j[e]:null}return this.each(function(){b(this).data("fbMultiSearchBox")?
"object"==typeof e&&b(this).data("fbMultiSearchBox",b.extend({},b(this).data("fbMultiSearchBox"),e)):b(this).data("fbMultiSearchBox",b.extend({},d,e));var g=b(this).data("fbMultiSearchBox"),j=b(this);"jqGridSearchUrl"in e&&g.jqGridID&&b(g.jqGridID).jqGrid("setGridParam",{search:!0,url:g.jqGridSearchUrl}).trigger("reloadGrid");if(!g.initialized){var h=[],q;for(q in c)null===g[q]&&h.push(q);h.length?alert("Missing options for $.fn.fbMultiSearchBox:\n "+h.join("\n")):j.length&&(g.searchtbl=b("table.group",
j),g.searchtbl.length&&(g.jqGridSearchUrl||(g.jqGridSearchUrl=b(g.jqGridID).jqGrid("getGridParam","url")),g.initialized||a._init.apply(this)))}})}})(jQuery);(function(){var b=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},d=[].slice;var c=this,a=function(a,c){var j,g,n,h,q,l,k,r;j=a(c);q=0<=b.call(c,"ontouchstart");g={horizontal:{},vertical:{}};n=1;h={};r=1;var p=function(b){var d=this;this.$element=b;this.element=b[0];this.didScroll=this.didResize=!1;this.id="context"+n++;this.oldScroll={x:b.scrollLeft(),y:b.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element["waypoints-context-id"]=
this.id;h[this.id]=this;b.bind("scroll.waypoints",function(){if(!d.didScroll&&!q)return d.didScroll=!0,c.setTimeout(function(){d.doScroll();return d.didScroll=!1},a.waypoints.settings.scrollThrottle)});b.bind("resize.waypoints",function(){if(!d.didResize)return d.didResize=!0,c.setTimeout(function(){a.waypoints("refresh");return d.didResize=!1},a.waypoints.settings.resizeThrottle)})};p.prototype.doScroll=function(){var b,c=this;b={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,
forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};q&&(!b.vertical.oldScroll||!b.vertical.newScroll)&&a.waypoints("refresh");a.each(b,function(b,d){var f,g,m;m=[];f=(g=d.newScroll>d.oldScroll)?d.forward:d.backward;a.each(c.waypoints[b],function(a,b){var e,c;if(d.oldScroll<(e=b.offset)&&e<=d.newScroll||d.newScroll<(c=b.offset)&&c<=d.oldScroll)return m.push(b)});m.sort(function(a,b){return a.offset-b.offset});g||m.reverse();
return a.each(m,function(a,b){if(b.options.continuous||a===m.length-1)return b.trigger([f])})});return this.oldScroll={x:b.horizontal.newScroll,y:b.vertical.newScroll}};p.prototype.refresh=function(){var b,c,d=this;c=a.isWindow(this.element);b=this.$element.offset();this.doScroll();b={horizontal:{contextOffset:c?0:b.left,contextScroll:c?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:c?
0:b.top,contextScroll:c?0:this.oldScroll.y,contextDimension:c?a.waypoints("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return a.each(b,function(b,c){return a.each(d.waypoints[b],function(b,d){var f,g,m,t,h;f=d.options.offset;m=d.offset;g=a.isWindow(d.element)?0:d.$element.offset()[c.offsetProp];a.isFunction(f)?f=f.apply(d.element):"string"===typeof f&&(f=parseFloat(f),-1<d.options.offset.indexOf("%")&&(f=Math.ceil(c.contextDimension*
f/100)));d.offset=g-c.contextOffset+c.contextScroll-f;if(!(d.options.onlyOnScroll&&null!=m)&&d.enabled){if(null!==m&&m<(t=c.oldScroll)&&t<=d.offset)return d.trigger([c.backward]);if(null!==m&&m>(h=c.oldScroll)&&h>=d.offset||null===m&&c.oldScroll>=d.offset)return d.trigger([c.forward])}})})};p.prototype.checkEmpty=function(){if(a.isEmptyObject(this.waypoints.horizontal)&&a.isEmptyObject(this.waypoints.vertical))return this.$element.unbind("resize.waypoints scroll.waypoints"),delete h[this.id]};var s=
function(b,c,d){var f;d=a.extend({},a.fn.waypoint.defaults,d);"bottom-in-view"===d.offset&&(d.offset=function(){var b;b=a.waypoints("viewportHeight");a.isWindow(c.element)||(b=c.$element.height());return b-a(this).outerHeight()});this.$element=b;this.element=b[0];this.axis=d.horizontal?"horizontal":"vertical";this.callback=d.handler;this.context=c;this.enabled=d.enabled;this.id="waypoints"+r++;this.offset=null;this.options=d;c.waypoints[this.axis][this.id]=this;g[this.axis][this.id]=this;b=null!=
(f=this.element["waypoints-waypoint-ids"])?f:[];b.push(this.id);this.element["waypoints-waypoint-ids"]=b};s.prototype.trigger=function(a){if(this.enabled&&(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce))return this.destroy()};s.prototype.disable=function(){return this.enabled=!1};s.prototype.enable=function(){this.context.refresh();return this.enabled=!0};s.prototype.destroy=function(){delete g[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];
return this.context.checkEmpty()};s.getWaypointsByElement=function(b){var c;b=b["waypoints-waypoint-ids"];if(!b)return[];c=a.extend({},g.horizontal,g.vertical);return a.map(b,function(a){return c[a]})};k={init:function(b,c){null==c&&(c={});null==c.handler&&(c.handler=b);this.each(function(){var b,d,f;b=a(this);f=null!=(d=c.context)?d:a.fn.waypoint.defaults.context;a.isWindow(f)||(f=b.closest(f));f=a(f);(d=h[f[0]["waypoints-context-id"]])||(d=new p(f));return new s(b,d,c)});a.waypoints("refresh");
return this},disable:function(){return k._invoke.call(this,"disable")},enable:function(){return k._invoke.call(this,"enable")},destroy:function(){return k._invoke.call(this,"destroy")},prev:function(a,b){return k._traverse.call(this,a,b,function(a,b,c){if(0<b)return a.push(c[b-1])})},next:function(a,b){return k._traverse.call(this,a,b,function(a,b,c){if(b<c.length-1)return a.push(c[b+1])})},_traverse:function(b,d,g){var h,j;null==b&&(b="vertical");null==d&&(d=c);j=l.aggregate(d);h=[];this.each(function(){var c;
c=a.inArray(this,j[b]);return g(h,c,j[b])});return this.pushStack(h)},_invoke:function(b){this.each(function(){var c;c=s.getWaypointsByElement(this);return a.each(c,function(a,c){c[b]();return!0})});return this}};a.fn.waypoint=function(){var b,c;c=arguments[0];b=2<=arguments.length?d.call(arguments,1):[];return k[c]?k[c].apply(this,b):a.isFunction(c)?k.init.apply(this,arguments):a.isPlainObject(c)?k.init.apply(this,[null,c]):c?a.error("The "+c+" method does not exist in jQuery Waypoints."):a.error("jQuery Waypoints needs a callback function or handler option.")};
a.fn.waypoint.defaults={context:c,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1};l={refresh:function(){return a.each(h,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=c.innerHeight)?a:j.height()},aggregate:function(b){var c,d,f;c=g;b&&(c=null!=(f=h[a(b)[0]["waypoints-context-id"]])?f.waypoints:void 0);if(!c)return[];d={horizontal:[],vertical:[]};a.each(d,function(b,f){a.each(c[b],function(a,b){return f.push(b)});f.sort(function(a,b){return a.offset-
b.offset});d[b]=a.map(f,function(a){return a.element});return d[b]=a.unique(d[b])});return d},above:function(a){null==a&&(a=c);return l._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){null==a&&(a=c);return l._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){null==a&&(a=c);return l._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){null==a&&(a=c);return l._filter(a,"horizontal",function(a,
b){return b.offset>a.oldScroll.x})},enable:function(){return l._invoke("enable")},disable:function(){return l._invoke("disable")},destroy:function(){return l._invoke("destroy")},extendFn:function(a,b){return k[a]=b},_invoke:function(b){var c;c=a.extend({},g.vertical,g.horizontal);return a.each(c,function(a,c){c[b]();return!0})},_filter:function(b,c,d){var f,g;f=h[a(b)[0]["waypoints-context-id"]];if(!f)return[];g=[];a.each(f.waypoints[c],function(a,b){if(d(f,b))return g.push(b)});g.sort(function(a,
b){return a.offset-b.offset});return a.map(g,function(a){return a.element})}};a.waypoints=function(){var a,b;b=arguments[0];a=2<=arguments.length?d.call(arguments,1):[];return l[b]?l[b].apply(null,a):l.aggregate.call(null,b)};a.waypoints.settings={resizeThrottle:100,scrollThrottle:30};return j.load(function(){return a.waypoints("refresh")})};"function"===typeof define&&define.amd?define("waypoints",["jquery"],function(b){return a(b,c)}):a(c.jQuery,c)}).call(this);"function"!==typeof Object.create&&(Object.create=function(b){function d(){}d.prototype=b;return new d});
(function(b,d){var c={_positionClasses:"bottom-left bottom-right top-right top-left bottom-center top-center mid-center".split(" "),_defaultIcons:["success","error","info","warning"],init:function(a){this.prepareOptions(a,b.toast.options);this.process()},prepareOptions:function(a,c){var d={};"string"===typeof a||a instanceof Array?d.text=a:d=a;this.options=b.extend({},c,d)},process:function(){this.setup();this.addToDom();this.position();this.bindToast();this.animate()},setup:function(){var a="";this._toastEl=
this._toastEl||b("<div></div>",{"class":"jq-toast-single"});a+='<span class="jq-toast-loader"></span>';this.options.allowToastClose&&(a+='<span class="close-jq-toast-single">&times;</span>');if(this.options.text instanceof Array){this.options.heading&&(a+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>");for(var a=a+'<ul class="jq-toast-ul">',c=0;c<this.options.text.length;c++)a+='<li class="jq-toast-li" id="jq-toast-item-'+c+'">'+this.options.text[c]+"</li>";a+="</ul>"}else this.options.heading&&
(a+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),a+=this.options.text;this._toastEl.html(a);!1!==this.options.bgColor&&this._toastEl.css("background-color",this.options.bgColor);!1!==this.options.textColor&&this._toastEl.css("color",this.options.textColor);this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign);!1!==this.options.icon&&(this._toastEl.addClass("jq-has-icon"),-1!==b.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+
this.options.icon));!1!==this.options["class"]&&this._toastEl.addClass(this.options["class"])},position:function(){"string"===typeof this.options.position&&-1!==b.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:b(d).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:b(d).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?
this._container.css({left:b(d).outerWidth()/2-this._container.outerWidth()/2,top:b(d).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"===typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:
"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var a=this;this._toastEl.bind("afterShown",function(){a.processLoader()});this._toastEl.find(".close-jq-toast-single").bind("click",function(b){b.preventDefault();"fade"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):
(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))});"function"==typeof this.options.beforeShow&&this._toastEl.bind("beforeShow",function(){a.options.beforeShow(a._toastEl)});"function"==typeof this.options.afterShown&&this._toastEl.bind("afterShown",function(){a.options.afterShown(a._toastEl)});"function"==typeof this.options.beforeHide&&this._toastEl.bind("beforeHide",function(){a.options.beforeHide(a._toastEl)});"function"==typeof this.options.afterHidden&&
this._toastEl.bind("afterHidden",function(){a.options.afterHidden(a._toastEl)});"function"==typeof this.options.onClick&&this._toastEl.bind("click",function(){a.options.onClick(a._toastEl)})},addToDom:function(){var a=b(".jq-toast-wrap");0===a.length?(a=b("<div></div>",{"class":"jq-toast-wrap",role:"alert","aria-live":"polite"}),b("body").append(a)):(!this.options.stack||isNaN(parseInt(this.options.stack,10)))&&a.empty();a.find(".jq-toast-single:hidden").remove();a.append(this._toastEl);if(this.options.stack&&
!isNaN(parseInt(this.options.stack),10)){var c=a.find(".jq-toast-single").length-this.options.stack;0<c&&b(".jq-toast-wrap").find(".jq-toast-single").slice(0,c).remove()}this._container=a},canAutoHide:function(){return!1!==this.options.hideAfter&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||!1===this.options.loader)return!1;var a=this._toastEl.find(".jq-toast-loader"),b=(this.options.hideAfter-400)/1E3+"s",c=this.options.loaderBg,d=a.attr("style")||
"",d=d.substring(0,d.indexOf("-webkit-transition"));a.attr("style",d+("-webkit-transition: width "+b+" ease-in;                       -o-transition: width "+b+" ease-in;                       transition: width "+b+" ease-in;                       background-color: "+c+";")).addClass("jq-toast-loaded")},animate:function(){var a=this;this._toastEl.hide();this._toastEl.trigger("beforeShow");"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){a._toastEl.trigger("afterShown")}):
"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){a._toastEl.trigger("afterShown")}):this._toastEl.show(function(){a._toastEl.trigger("afterShown")});this.canAutoHide()&&(a=this,d.setTimeout(function(){"fade"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):
(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))},this.options.hideAfter))},reset:function(a){"all"===a?b(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(a){this.prepareOptions(a,this.options);this.setup();this.bindToast()},close:function(){this._toastEl.find(".close-jq-toast-single").click()}};b.toast=function(a){var b=Object.create(c);b.init(a,this);return{reset:function(a){b.reset(a)},update:function(a){b.update(a)},close:function(){b.close()}}};
b.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3E3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){},onClick:function(){}}})(jQuery,window,document);
